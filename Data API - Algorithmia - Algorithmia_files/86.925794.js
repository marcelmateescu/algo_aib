(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{1180:function(t,e,a){var n=a(1993);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a(7).default)("2333bb18",n,!0,{})},1181:function(t,e,a){"use strict";var n=this&&this.__assign||Object.assign||function(t){for(var e,a=1,n=arguments.length;a<n;a++)for(var o in e=arguments[a])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},o=this&&this.__awaiter||function(t,e,a,n){return new(a||(a=Promise))(function(o,r){function i(t){try{s(n.next(t))}catch(t){r(t)}}function l(t){try{s(n.throw(t))}catch(t){r(t)}}function s(t){t.done?o(t.value):new a(function(e){e(t.value)}).then(i,l)}s((n=n.apply(t,e||[])).next())})},r=this&&this.__generator||function(t,e){var a,n,o,r,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function l(r){return function(l){return function(r){if(a)throw new TypeError("Generator is already executing.");for(;i;)try{if(a=1,n&&(o=n[2&r[0]?"return":r[0]?"throw":"next"])&&!(o=o.call(n,r[1])).done)return o;switch(n=0,o&&(r=[0,o.value]),r[0]){case 0:case 1:o=r;break;case 4:return i.label++,{value:r[1],done:!1};case 5:i.label++,n=r[1],r=[0];continue;case 7:r=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===r[0]||2===r[0])){i=0;continue}if(3===r[0]&&(!o||r[1]>o[0]&&r[1]<o[3])){i.label=r[1];break}if(6===r[0]&&i.label<o[1]){i.label=o[1],o=r;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(r);break}o[2]&&i.ops.pop(),i.trys.pop();continue}r=e.call(t,i)}catch(t){r=[6,t],n=0}finally{a=o=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,l])}}};e.__esModule=!0;var i=a(0),l=a(6),s=a(141),c=a(2);e.default=i.default.extend({data:function(){return{collectionCreationModalOpen:!1,collectionCreationErrorMessage:"",collectionName:""}},props:{collections:{required:!0,type:Array},loading:{type:Boolean}},computed:n({},l.mapGetters(["me"])),methods:n({},l.mapActions({createCollection:s.actions.CREATE_COLLECTION}),{addCollection:function(t){return o(this,void 0,void 0,function(){var e,a,n;return r(this,function(o){switch(o.label){case 0:return this.collectionCreationErrorMessage="",t?[3,1]:(this.collectionCreationErrorMessage="Collection ID cannot be empty",[3,5]);case 1:return RegExp("^[a-zA-Z][a-zA-Z0-9_]*[a-zA-Z0-9]+$").test(t)?[3,2]:(this.collectionCreationErrorMessage="Collection names may contain letters, numbers, and underscores, must be at least 2 characters, start with a letter, and may not end with an underscore.",[3,5]);case 2:return o.trys.push([2,4,,5]),[4,this.createCollection({name:t,base:this.me.username})];case 3:return e=o.sent(),c.default.printSuccess("Collection "+t+" created successfully!"),this.collectionName="",this.collectionCreationModalOpen=!1,a={name:"hostedDataCollection",params:{path:this.pathFrom(e)}},this.$router.push(a),this.$emit("collection-selected"),[3,5];case 4:return n=o.sent(),this.collectionCreationErrorMessage=n?"Failed to create collection: "+c.default.errorMsg(n):"Failed to create collection",[3,5];case 5:return[2]}})})},isUserDataCollectionActive:function(t){return this.$store.state.route.path==="/data/hosted/"+t.path},pathFrom:function(t){return t.path.split("/")}})})},1182:function(t,e,a){"use strict";a.r(e);var n=a(1181),o=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);e.default=o.a},1183:function(t,e,a){var n=a(1996);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a(7).default)("1478d459",n,!0,{})},1184:function(t,e,a){"use strict";e.__esModule=!0;var n=a(0);e.default=n.default.extend({props:{collections:{required:!0,type:Array}},methods:{isAlgorithDataCollectionActive:function(t){return this.$store.state.route.path==="/data/hosted/"+t.path},pathFrom:function(t){return t.path.split("/")}}})},1185:function(t,e,a){"use strict";a.r(e);var n=a(1184),o=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);e.default=o.a},1186:function(t,e,a){"use strict";var n=this&&this.__assign||Object.assign||function(t){for(var e,a=1,n=arguments.length;a<n;a++)for(var o in e=arguments[a])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t};e.__esModule=!0;var o=a(0),r=a(6),i=a(1998),l=a(1995),s=a(141),c=a(2);e.default=o.default.extend({components:{AlgorithmDataCollections:i.default,UserDataCollections:l.default},computed:n({},r.mapGetters({algorithmDataCollections:s.getters.ALGORITHM_DATA_COLLECTIONS,userDataCollections:s.getters.USER_DATA_COLLECTIONS})),data:function(){return{userDataCollectionsLoading:!0,routerKey:Math.floor(1e3*Math.random())}},metaInfo:function(){var t="Data API - Algorithmia";return{title:t,meta:c.metaTitles(t).slice()}},methods:n({},r.mapActions({fetchAlgorithmDataCollectionsForCurrentUser:s.actions.GET_ALGORITHM_COLLECTIONS_FOR_CURRENT_USER,fetchUserDataCollectionsForCurrentUser:s.actions.GET_USER_COLLECTIONS_FOR_CURRENT_USER}),{refreshRoute:function(){this.routerKey=Math.floor(1e3*Math.random())}}),mounted:function(){var t=this;this.fetchAlgorithmDataCollectionsForCurrentUser(),this.fetchUserDataCollectionsForCurrentUser().then(function(){return t.userDataCollectionsLoading=!1})}})},1187:function(t,e,a){"use strict";a.r(e);var n=a(1186),o=a.n(n);for(var r in n)"default"!==r&&function(t){a.d(e,t,function(){return n[t]})}(r);e.default=o.a},1409:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.collections.length>0?a("div",{staticClass:"panel panel-default"},[t._m(0),t._v(" "),a("ul",{staticClass:"nav stream-list"},t._l(t.collections,function(e){return a("li",{key:e.filename,on:{click:function(e){t.$emit("collection-selected")}}},[a("router-link",{attrs:{to:{name:"hostedDataCollection",params:{path:t.pathFrom(e)}}}},[a("span",{staticClass:"stream-name"},[a("span",[t._v(t._s(e.path.replace(".algo/","")))]),t._v(" "),t.isAlgorithDataCollectionActive(e)?a("i",{staticClass:"fa fa-arrow-circle-right"}):t._e()])])],1)}))]):t._e()},o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("h3",{staticClass:"panel-title"},[this._v("Algorithm Data")])])}];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return o})},1410:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"panel panel-default"},[t._m(0),t._v(" "),a("ul",{staticClass:"nav stream-list"},[t._l(t.collections,function(e){return a("li",{key:e.filename,on:{click:function(e){t.$emit("collection-selected")}}},[a("router-link",{attrs:{to:{name:"hostedDataCollection",params:{path:t.pathFrom(e)}}}},[a("span",{staticClass:"stream-name"},[a("span",[t._v(t._s(e.path.replace(t.me.username+"/","")))]),t._v(" "),t.isUserDataCollectionActive(e)?a("i",{staticClass:"fa fa-arrow-circle-right"}):t._e()])])],1)}),t._v(" "),t.loading&&0===t.collections.length?a("div",{staticClass:"list-group-item"},[a("span",{staticClass:"aspinner"})]):t._e(),t._v(" "),a("li",[a("a",{staticClass:"btn btn-primary btn-flat btn-sm",attrs:{role:"button"},on:{click:function(e){t.collectionCreationModalOpen=!0}}},[a("i",{staticClass:"fa fa-plus"}),t._v(" Add Collection")])])],2),t._v(" "),a("modal",{attrs:{footer:!1,tabindex:"-1",role:"dialog","aria-labelledby":"add-stream","aria-hidden":"true"},on:{hide:function(e){t.collectionCreationErrorMessage=""}},model:{value:t.collectionCreationModalOpen,callback:function(e){t.collectionCreationModalOpen=e},expression:"collectionCreationModalOpen"}},[a("span",{attrs:{slot:"title"},slot:"title"},[t._v("Add a collection")]),t._v(" "),a("form",{on:{submit:function(e){e.preventDefault(),t.addCollection(t.collectionName)}}},[a("div",{staticClass:"form-group",class:{"has-error":t.collectionCreationErrorMessage}},[a("label",[t._v("Enter a name for this collection")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.collectionName,expression:"collectionName"}],staticClass:"form-control",attrs:{type:"text",placeholder:"Collection ID",maxlength:"40"},domProps:{value:t.collectionName},on:{input:function(e){e.target.composing||(t.collectionName=e.target.value)}}}),t._v(" "),a("div",{staticClass:"text-danger"},[t._v(t._s(t.collectionCreationErrorMessage))])]),t._v(" "),a("input",{staticClass:"btn btn-primary pull-right",attrs:{type:"submit",value:"Add Collection"}}),t._v(" "),a("div",{staticClass:"clearfix"})])])],1)},o=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"panel-heading"},[e("h3",{staticClass:"panel-title"},[this._v("My Collections")])])}];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return o})},1530:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container content-container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-3"},[a("user-data-collections",{attrs:{collections:t.userDataCollections,loading:t.userDataCollectionsLoading},on:{"collection-selected":function(e){t.refreshRoute()}}}),t._v(" "),t.algorithmDataCollections.length>0?a("algorithm-data-collections",{attrs:{collections:t.algorithmDataCollections},on:{"collection-selected":function(e){t.refreshRoute()}}}):t._e()],1),t._v(" "),a("div",{staticClass:"col-md-9"},[a("router-view",{key:t.routerKey})],1)])])},o=[];a.d(e,"a",function(){return n}),a.d(e,"b",function(){return o})},1993:function(t,e,a){(t.exports=a(8)(void 0)).push([t.i,".stream-list .stream-name[data-v-00910b4e]{min-width:100%;display:flex;flex-direction:row;justify-content:space-between}.stream-list li a span[data-v-00910b4e]{display:inline-block;word-break:break-word}.stream-list li a i[data-v-00910b4e]{margin-top:3px}.stream-list li.active a[data-v-00910b4e]{color:#883ff2}",""])},1994:function(t,e,a){"use strict";var n=a(1180);a.n(n).a},1995:function(t,e,a){"use strict";a.r(e);var n=a(1410),o=a(1182);for(var r in o)"default"!==r&&function(t){a.d(e,t,function(){return o[t]})}(r);a(1994);var i=a(1),l=Object(i.a)(o.default,n.a,n.b,!1,null,"00910b4e",null);e.default=l.exports},1996:function(t,e,a){(t.exports=a(8)(void 0)).push([t.i,".stream-list .stream-name[data-v-0fef92b4]{min-width:100%;display:flex;flex-direction:row;justify-content:space-between}.stream-list li a span[data-v-0fef92b4]{display:inline-block;word-break:break-word}.stream-list li a i[data-v-0fef92b4]{margin-top:3px}.stream-list li.active a[data-v-0fef92b4]{color:#883ff2}",""])},1997:function(t,e,a){"use strict";var n=a(1183);a.n(n).a},1998:function(t,e,a){"use strict";a.r(e);var n=a(1409),o=a(1185);for(var r in o)"default"!==r&&function(t){a.d(e,t,function(){return o[t]})}(r);a(1997);var i=a(1),l=Object(i.a)(o.default,n.a,n.b,!1,null,"0fef92b4",null);e.default=l.exports},227:function(t,e,a){"use strict";a.r(e);var n=a(1530),o=a(1187);for(var r in o)"default"!==r&&function(t){a.d(e,t,function(){return o[t]})}(r);var i=a(1),l=Object(i.a)(o.default,n.a,n.b,!1,null,null,null);e.default=l.exports}}]);